<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{% block title %}Myiana{% endblock %}</title>

  <!-- Fuentes -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Poppins:wght@600;700&display=swap" rel="stylesheet">

  <!-- Tu CSS base (mantener) -->
  <link rel="stylesheet" href="{{ url_for('static', filename='Estilos/login.css') }}">

  <!-- Estilos rápidos específicos para el layout (puedes mover esto a tu CSS) -->
  <style>
    :root{
      --bg: #f6fafb;
      --card: #ffffff;
      --muted: #6b7280;
      --primary: #0b486b;
      --accent: #f59e0b;
      --success: #16a34a;
      --danger: #dc2626;
      --info: #2563eb;
      --glass: rgba(255,255,255,0.8);
      --shadow: 0 10px 30px rgba(2,6,23,0.06);
    }

    /* Base */
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(180deg,#f7fbfc 0%, #eef6f8 100%);
      color:#0f1724;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    /* Topbar */
    .topbar{
      position:fixed;
      top:0;
      left:0;
      right:0;
      height:72px;
      background: rgba(255,255,255,0.9);
      backdrop-filter: blur(6px);
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:0 20px;
      box-shadow: var(--shadow);
      z-index:1100;
    }

    .brand {
      display:flex;
      align-items:center;
      gap:12px;
      text-decoration:none;
    }
    .brand .logo { height:65px; width:auto; display:block; }
    .brand .logoN { height:65px; width:auto; display:block; opacity:0.95; margin-left:4px; }

    /* Nav actions */
    .nav-actions { display:flex; gap:10px; align-items:center; }
    .btn {
      padding:10px 14px;
      border-radius:999px;
      font-weight:600;
      font-size:14px;
      cursor:pointer;
      border: none;
      text-decoration:none;
      display:inline-flex;
      gap:8px;
      align-items:center;
    }
    .btn-primary { background:var(--primary); color:#fff; box-shadow: 0 8px 20px rgba(11,72,107,0.12); }
    .btn-secondary { background:transparent; color:var(--primary); border: 1px solid rgba(11,72,107,0.08); }
    .btn-ghost { background:transparent; color:#223; padding:8px 12px; border-radius:10px; }

    /* Responsive hamburger for small screens */
    .hamburger {
      display:none;
      width:40px; height:40px; border-radius:8px; align-items:center; justify-content:center;
      background:transparent; border:none; cursor:pointer;
    }
    @media (max-width:760px){
      .nav-actions { gap:8px; }
      .brand .logoN { display:none; }
      .hamburger{ display:flex; }
      .nav-actions .btn:not(.always-show){ display:none; } /* hide except ones you want */
    }

    /* Main container */
    .container {
      padding: 110px 18px 60px; /* leave space for the fixed header */
      max-width: 1200px;
      margin: 0 auto;
      min-height: calc(100vh - 180px);
    }

    /* Flash messages */
    .flash-area { position:relative; margin-bottom:18px; display:flex; flex-direction:column; gap:8px; }
    .flash {
      padding:12px 16px;
      border-radius:10px;
      box-shadow: 0 6px 18px rgba(2,6,23,0.04);
      font-weight:600;
      max-width:920px;
    }
    .flash.success { background: linear-gradient(90deg,#ecfdf3,#e6fff6); color:var(--success); border-left:6px solid rgba(16,185,129,0.14); }
    .flash.info    { background: linear-gradient(90deg,#eff6ff,#f0f8ff); color:var(--info); border-left:6px solid rgba(37,99,235,0.12); }
    .flash.danger  { background: linear-gradient(90deg,#fff1f2,#fff5f6); color:var(--danger); border-left:6px solid rgba(220,38,38,0.12); }
    .flash.warning { background: linear-gradient(90deg,#fffbeb,#fffaf0); color:#92400e; border-left:6px solid rgba(245,158,11,0.12); }

    /* Content area */
    main.container > * { max-width: 1100px; margin: 0 auto; }

    /* Small utilities */
    .text-muted { color:var(--muted); font-size:0.95rem; }
    .space-sm { height:12px; display:block; }

    footer {
      text-align: center;
      color: var(--muted);
      padding: 24px 12px;
      font-size: 0.95rem;
      margin-top: auto; /* se queda al final sin solaparse */
    }
  </style>
  <script src="//code.jivosite.com/widget/2HA99NJkUt" async></script>
  <link rel="icon" href="static/Imagenes/LogoAzulSinFondo.ico" sizes="100x100">
</head>

<body>
  <!-- Header / Topbar -->
  <header class="topbar" role="banner">
    <a href="{{ url_for('chiaentre') }}" class="brand" aria-label="Inicio Myiana">
      <img src="/static/Imagenes/LogoAzulSinFondo.png" alt="Logo Myiana" class="logo">
      <img src="/static/Imagenes/NombreMyiana.png" alt="Myiana Chía" class="logoN">
    </a>

    <nav class="nav-actions" role="navigation" aria-label="Acciones principales">
      {% if session.get('user_id') %}
        <a href="{{ url_for('index') }}" class="btn btn-ghost">Inicio</a>
        <a href="{{ url_for('logout') }}" class="btn btn-secondary">Cerrar sesión</a>
      {% else %}
        <a href="{{ url_for('login') }}" class="btn btn-primary small always-show">Iniciar sesión</a>
        <a href="{{ url_for('register') }}" class="btn btn-secondary small always-show">Registrarse</a>
      {% endif %}
      <a href="https://www.canva.com/design/DAGymtCwjgs/QwDdKz6dOH345ED6543CPA/view?utm_content=DAGymtCwjgs&utm_campaign=designshare&utm_medium=link2&utm_source=uniquelinks&utlId=ha273b541e8"
         class="btn btn-primary" target="_blank" rel="noopener">Conoce Nuestros Planes</a>

      <!-- mobile hamburger (non-functional visual; puedes añadir JS para abrir menú) -->
      <button class="hamburger" aria-label="Abrir menú">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M4 6h16M4 12h16M4 18h16" stroke="#0b486b" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </nav>
  </header>

  <!-- Main content area -->
  <main class="container" role="main">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="flash-area" role="status" aria-live="polite">
          {% for category, message in messages %}
            {# category suele ser 'success', 'danger', 'info' - ajusta según tu uso #}
            <div class="flash {{ category|default('info') }}">{{ message }}</div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    {% block content %}{% endblock %}
  </main>

  <footer>
    © {{ current_year if (current_year is defined) else "" }} Myiana Chía — Hecho con ❤️
  </footer>

  <!-- Pequeño script para mejorar accesibilidad: focus en primer flash -->
  <script>
    (function(){
      const flash = document.querySelector('.flash-area .flash');
      if (flash) {
        // darle foco para que lectores de pantalla lo noten
        flash.setAttribute('tabindex','-1');
        flash.focus({preventScroll:true});
      }
    })();
  </script>
</body>
</html>